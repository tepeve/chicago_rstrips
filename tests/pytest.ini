[pytest]
# Directorio donde buscar tests
testpaths = tests

# Patrón para encontrar archivos de test
python_files = test_*.py

# Patrón para encontrar clases de test
python_classes = Test*

# Patrón para encontrar funciones de test
python_functions = test_*

# Markers personalizados
markers =
    integration: tests que requieren conexión a base de datos real
    unit: tests unitarios que usan mocks
    slow: tests que tardan más de 1 segundo
    ci: tests seguros para ejecutar en CI/CD

addopts = 
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    --cov=src/chicago_rstrips
    --cov-report=xml
    --cov-report=term-missing
    --cov-fail-under=70

# Ignorar directorios
norecursedirs = .git .venv __pycache__ outputs data